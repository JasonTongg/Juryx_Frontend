import { createSlice, createAsyncThunk } from "@reduxjs/toolkit";
import AccountAbi from "./abi/account";
import EntryPointAbi from "./abi/entryPoint";
import AccountFactoryAbi from "./abi/accountfactory";

const initialState = {
  address: "0x0000000000000000000000000000000000000000",
  abi: {
    AccountAbi,
    EntryPointAbi,
    AccountFactoryAbi
  },
  factoryByteCode: "0x608060405234801561001057600080fd5b506113cb806100206000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c80632d66a5b014610030575b600080fd5b61004361003e366004610233565b61005f565b6040516001600160a01b03909116815260200160405180910390f35b6000808484604051602001610075929190610356565b60405160208183030381529060405280519060200120905060006040518060200161009f906101db565b601f1982820381018352601f9091011660408190526100c690889088908890602001610378565b60408051601f19818403018152908290526100e492916020016103da565b604051602081830303815290604052905060006101088383805190602001206101a9565b90507fc6febf30dea1b6923811420eaa588cd391c80285987752f5cdf1e501e598899181888860405161013d939291906103f7565b60405180910390a16001600160a01b0381163b1561015f5792506101a2915050565b8287878760405161016f906101db565b61017b93929190610378565b8190604051809103906000f590508015801561019b573d6000803e3d6000fd5b5093505050505b9392505050565b60006101a28383306000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b610f6c8061042a83390190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b80356001600160a01b038116811461022e57600080fd5b919050565b60008060006060848603121561024857600080fd5b833567ffffffffffffffff8082111561026057600080fd5b818601915086601f83011261027457600080fd5b8135602082821115610288576102886101e8565b8160051b604051601f19603f830116810181811086821117156102ad576102ad6101e8565b60405292835281830193508481018201928a8411156102cb57600080fd5b948201945b838610156102f0576102e186610217565b855294820194938201936102d0565b9750508701359450610309925050604086019050610217565b90509250925092565b600081518084526020808501945080840160005b8381101561034b5781516001600160a01b031687529582019590820190600101610326565b509495945050505050565b6040815260006103696040830185610312565b90508260208301529392505050565b60608152600061038b6060830186610312565b90508360208301526001600160a01b0383166040830152949350505050565b6000815160005b818110156103cb57602081850181015186830152016103b1565b50600093019283525090919050565b60006103ef6103e983866103aa565b846103aa565b949350505050565b6001600160a01b03841681526060602082015260006104196060830185610312565b905082604083015294935050505056fe60a06040523480156200001157600080fd5b5060405162000f6c38038062000f6c833981016040819052620000349162000293565b60008351116200008b5760405162461bcd60e51b815260206004820152601560248201527f4f776e65727320617272617920697320656d707479000000000000000000000060448201526064015b60405180910390fd5b6000821180156200009d575082518211155b620000df5760405162461bcd60e51b8152602060048201526011602482015270125b9d985b1a59081d1a1c995cda1bdb19607a1b604482015260640162000082565b60038290556001600160a01b03811660805260005b83518110156200025657600084828151811062000115576200011562000383565b6020026020010151905060006001600160a01b0316816001600160a01b031603620001835760405162461bcd60e51b815260206004820152601560248201527f496e76616c6964206f776e657220616464726573730000000000000000000000604482015260640162000082565b6001600160a01b03811660009081526002602052604090205460ff1615620001e05760405162461bcd60e51b815260206004820152600f60248201526e223ab83634b1b0ba329037bbb732b960891b604482015260640162000082565b6001600160a01b03166000818152600260205260408120805460ff191660019081179091558054808201825591527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60180546001600160a01b0319169091179055806200024d8162000399565b915050620000f4565b50505050620003c1565b634e487b7160e01b600052604160045260246000fd5b80516001600160a01b03811681146200028e57600080fd5b919050565b600080600060608486031215620002a957600080fd5b83516001600160401b0380821115620002c157600080fd5b818601915086601f830112620002d657600080fd5b8151602082821115620002ed57620002ed62000260565b8160051b604051601f19603f8301168101818110868211171562000315576200031562000260565b60405292835281830193508481018201928a8411156200033457600080fd5b948201945b838610156200035d576200034d8662000276565b8552948201949382019362000339565b8098505050808801519550505050506200037a6040850162000276565b90509250925092565b634e487b7160e01b600052603260045260246000fd5b600060018201620003ba57634e487b7160e01b600052601160045260246000fd5b5060010190565b608051610b81620003eb60003960008181610160015281816101fa01526103420152610b816000f3fe60806040526004361061006e5760003560e01c806342cde4e81161004b57806342cde4e8146101225780634ddc776714610138578063b0d691fe1461014e578063b61d27f61461018257005b8063025e7c27146100775780632f54bf6e146100b45780633a871cdd146100f457005b3661007557005b005b34801561008357600080fd5b5061009761009236600461080f565b6101a2565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156100c057600080fd5b506100e46100cf366004610844565b60026020526000908152604090205460ff1681565b60405190151581526020016100ab565b34801561010057600080fd5b5061011461010f366004610866565b6101cc565b6040519081526020016100ab565b34801561012e57600080fd5b5061011460035481565b34801561014457600080fd5b5061011460005481565b34801561015a57600080fd5b506100977f000000000000000000000000000000000000000000000000000000000000000081565b34801561018e57600080fd5b5061007561019d3660046108ba565b6101ef565b600181815481106101b257600080fd5b6000918252602090912001546001600160a01b0316905081565b60006101e5836101e0610140870187610941565b610337565b5060009392505050565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461026c5760405162461bcd60e51b815260206004820152600f60248201527f6e6f7420656e74727920706f696e74000000000000000000000000000000000060448201526064015b60405180910390fd5b60008054908061027b83610988565b91905055506000846001600160a01b031684848460405161029d9291906109af565b60006040518083038185875af1925050503d80600081146102da576040519150601f19603f3d011682016040523d82523d6000602084013e6102df565b606091505b50509050806103305760405162461bcd60e51b815260206004820152600e60248201527f65786563757465206661696c65640000000000000000000000000000000000006044820152606401610263565b5050505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146103af5760405162461bcd60e51b815260206004820152600f60248201527f6f6e6c7920656e747279706f696e7400000000000000000000000000000000006044820152606401610263565b60006103bd82840184610a06565b905060008060006103fb877f19457468657265756d205369676e6564204d6573736167653a0a3332000000006000908152601c91909152603c902090565b905060005b845181101561051e57600061042e8387848151811061042157610421610b1f565b602002602001015161057a565b6001600160a01b03811660009081526002602052604090205490915060ff166104995760405162461bcd60e51b815260206004820152600960248201527f6e6f74206f776e657200000000000000000000000000000000000000000000006044820152606401610263565b836001600160a01b0316816001600160a01b0316116104fa5760405162461bcd60e51b815260206004820152601660248201527f6475706c6963617465206f7220756e6f726465726564000000000000000000006044820152606401610263565b9250828461050781610988565b95505050808061051690610988565b915050610400565b506003548310156105715760405162461bcd60e51b815260206004820152601460248201527f6e6f7420656e6f75676820617070726f76616c730000000000000000000000006044820152606401610263565b50505050505050565b6000806000610589858561059e565b91509150610596816105e3565b509392505050565b60008082516041036105d45760208301516040840151606085015160001a6105c88782858561074b565b945094505050506105dc565b506000905060025b9250929050565b60008160048111156105f7576105f7610b35565b036105ff5750565b600181600481111561061357610613610b35565b036106605760405162461bcd60e51b815260206004820152601860248201527f45434453413a20696e76616c6964207369676e617475726500000000000000006044820152606401610263565b600281600481111561067457610674610b35565b036106c15760405162461bcd60e51b815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e677468006044820152606401610263565b60038160048111156106d5576106d5610b35565b036107485760405162461bcd60e51b815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c60448201527f75650000000000000000000000000000000000000000000000000000000000006064820152608401610263565b50565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08311156107825750600090506003610806565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa1580156107d6573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166107ff57600060019250925050610806565b9150600090505b94509492505050565b60006020828403121561082157600080fd5b5035919050565b80356001600160a01b038116811461083f57600080fd5b919050565b60006020828403121561085657600080fd5b61085f82610828565b9392505050565b60008060006060848603121561087b57600080fd5b833567ffffffffffffffff81111561089257600080fd5b840161016081870312156108a557600080fd5b95602085013595506040909401359392505050565b600080600080606085870312156108d057600080fd5b6108d985610828565b935060208501359250604085013567ffffffffffffffff808211156108fd57600080fd5b818701915087601f83011261091157600080fd5b81358181111561092057600080fd5b88602082850101111561093257600080fd5b95989497505060200194505050565b6000808335601e1984360301811261095857600080fd5b83018035915067ffffffffffffffff82111561097357600080fd5b6020019150368190038213156105dc57600080fd5b6000600182016109a857634e487b7160e01b600052601160045260246000fd5b5060010190565b8183823760009101908152919050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff811182821017156109fe576109fe6109bf565b604052919050565b60006020808385031215610a1957600080fd5b823567ffffffffffffffff80821115610a3157600080fd5b8185019150601f8681840112610a4657600080fd5b823582811115610a5857610a586109bf565b8060051b610a678682016109d5565b918252848101860191868101908a841115610a8157600080fd5b87870192505b83831015610b1157823586811115610a9f5760008081fd5b8701603f81018c13610ab15760008081fd5b88810135604088821115610ac757610ac76109bf565b610ad8828901601f19168c016109d5565b8281528e82848601011115610aed5760008081fd5b828285018d83013760009281018c0192909252508352509187019190870190610a87565b9a9950505050505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052602160045260246000fdfea26469706673582212208d35015af27709e2f16cdeb92fc32aab96c5c61fdbaa51d5af3db7ea24319e1a64736f6c63430008130033a264697066735822122007b59e11ec350d5cca8f669e6cca9ce81fb7eedf79cf9389defbe195148990a664736f6c63430008130033"
};

const datas = createSlice({
  name: "Datas",
  initialState,
  reducers: {
    setAddress: (state, action) => {
      state.address = action.payload;
    }
  },
});

export default datas.reducer;
export const { setAddress } = datas.actions;
